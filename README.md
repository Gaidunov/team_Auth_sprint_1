### Реализация


Авторозация реализована с помощью jwt-токенов, которые прокидываются в куки юзера.
При валидации токенов используется библиотека flask_jwt_extended, для хранения просроченных - Redis.
При "выходе со всех устройств" в Redis добавляется логин и время "всеобщего логаута", 
все токены, сделанные до этого момента автоматически "протухают".


Для доступа на админские ручки пользователь должен иметь роль "superuser". Можео создать суперпользователя: 

    docker exec -it auth_api bash -c "flask commands create-super-user [name]"

А можно добавить роль существующему юзеру через /roles/add-to-user.

### Запуск

    make go


### Документация
OpenAPI доступна на /apidoc/swagger/. После успешного логина параметры access_token_cookie и refresh_token_cookie можно не указывать (они сохраняются в куках браузера). 



### Линтер
    docker-compose exec auth_api bash
    flake8 ./
